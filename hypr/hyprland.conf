#   ╔════════════════════════════════════════╗
#   ║  hyprland.conf | odextrs' dotFiles v3  ║
#   ║ ------------ ╔═════════════════════════╝
#   ║  Start Apps  ║
#   ╚══════════════╝

    exec-once = hyprpaper && dunst
    exec-once = otd-daemon
    exec-once = vicinae server
    exec-once = zen-browser
    exec-once = $HOME/.config/hypr/scripts/eww.sh
    exec-once = discord --enable-features=UseOzonePlatform --ozone-platform=wayland

#   ╔══════════╗
#   ║  Output  ║
#   ╚══════════╝

    monitor=HDMI-A-1,1920x1080@180.00,auto,auto

#   ╔════════════╗
#   ║  Keywords  ║
#   ╚════════════╝

    $browser = zen
    $launcher = vicinae
    $fileManager = dolphin
    $terminal = kitty
    $SessionLock = hyprlock
    $Modifier = SUPER

#   ╔═══════════════╗
#   ║  Environment  ║
#   ╚═══════════════╝

    env = XCURSOR_SIZE,24
    env = HYPRCURSOR_SIZE,24
    env = XDG_MENU_PREFIX,arch-
    env = QT_QPA_PLATFORMTHEME,qt6ct

#   ╔═════════╗
#   ║  Rules  ║
#   ╚═════════╝

    windowrulev2 = workspace 2 silent, class:^(zen)$
    windowrulev2 = workspace 3 silent, class:^(discord)$
    windowrulev2 = float, class:^(com.saivert.pwvucontrol)$

    windowrulev2 = workspace 1, class:^(zenlesszonezero.exe)$
    windowrulev2 = workspace 1, class:^(genshinimpact.exe)$
    windowrulev2 = fullscreen, class:^(genshinimpact.exe)$
    windowrulev2 = workspace 1, class:^(starrail.exe)$
    windowrulev2 = workspace 1, class:^(osu!.exe)$

    windowrule = suppressevent maximize, class:.*                   # Ignore maximize Requests
    windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0 # XWayland drag fix

    # Zen Browser Picture-in-Picture | Firefox Fork

    $browserPiPtitle = ^(Picture-in-Picture)$
    windowrulev2 = float, class:$browser, title:$browserPiPtitle
    windowrulev2 = pin, class:$browser, title:$browserPiPtitle
    windowrulev2 = noborder, class:$browser, title:$browserPiPtitle
    windowrulev2 = move 0 30%, class:$browser, title:$browserPiPtitle

    # Layer Rules
    layerrule = ignorezero, waybars
    layerrule = blur, vicinae
    layerrule = blur, bar
    layerrule = blur, eww

#   ╔════════════╗
#   ║  Keybinds  ║
#   ╚════════════╝

    bind = $Modifier SHIFT, S, exec, hyprshot -m region --clipboard-only -s -z
    bind = , PRINT, exec, hyprshot -m output --clipboard-only -s -z

    bind = $Modifier, Super_L, exec, $launcher
    bind = $Modifier, Q, exec, $terminal
    bind = $Modifier, L, exec, $SessionLock
    bind = $Modifier, E, exec, $fileManager
    bind = $Modifier, C, killactive,
    bind = $Modifier, M, exit,
    bind = $Modifier, F, fullscreen, 0
    bind = $Modifier, T, togglefloating,
    bind = $Modifier, P, pseudo,                     # dwindle only
    bind = $Modifier, J, togglesplit,                # dwindle only

    bind = ALT SHIFT, W, exec, playerctl play-pause
    bind = ALT SHIFT, E, exec, playerctl next
    bind = ALT SHIFT, Q, exec, playerctl previous

    bind = ALT, TAB, cyclenext
    bind = $Modifier SHIFT, left, movewindow, l
    bind = $Modifier SHIFT, right, movewindow, r
    bind = $Modifier SHIFT, up, movewindow, u
    bind = $Modifier SHIFT, down, movewindow, d
    bind = $Modifier, left, movefocus, l
    bind = $Modifier, right, movefocus, r
    bind = $Modifier, up, movefocus, u
    bind = $Modifier, down, movefocus, d
    bind = $Modifier, mouse_up, workspace, e+1
    bind = $Modifier, mouse_down, workspace, e-1

    bindm = $Modifier, mouse:272, movewindow
    bindm = $Modifier, mouse:273, resizewindow

    bind = $Modifier, 1, workspace, 1
    bind = $Modifier, 2, workspace, 2
    bind = $Modifier, 3, workspace, 3
    bind = $Modifier, 4, workspace, 4
    bind = $Modifier, 5, workspace, 5
    bind = $Modifier, 6, workspace, 6
    bind = $Modifier, 7, workspace, 7
    bind = $Modifier, 8, workspace, 8
    bind = $Modifier, 9, workspace, 9
    bind = $Modifier, 0, workspace, 10
    bind = $Modifier SHIFT, 1, movetoworkspace, 1
    bind = $Modifier SHIFT, 2, movetoworkspace, 2
    bind = $Modifier SHIFT, 3, movetoworkspace, 3
    bind = $Modifier SHIFT, 4, movetoworkspace, 4
    bind = $Modifier SHIFT, 5, movetoworkspace, 5
    bind = $Modifier SHIFT, 6, movetoworkspace, 6
    bind = $Modifier SHIFT, 7, movetoworkspace, 7
    bind = $Modifier SHIFT, 8, movetoworkspace, 8
    bind = $Modifier SHIFT, 9, movetoworkspace, 9
    bind = $Modifier SHIFT, 0, movetoworkspace, 10

#   ╔═══════════╗
#   ║  Theming  ║
#   ╚═══════════╝

    general {
        gaps_in = 5
        gaps_out = 10
        border_size = 1
        col.active_border = rgb(c2c3c6)
        col.inactive_border = rgba(0,0,0,0)
    	windowrulev2 = noshadow, focus:0

    	layout = dwindle

        allow_tearing = false
    }

    decoration {
        rounding = 4
        rounding_power = 2
        active_opacity = 1.0
        inactive_opacity = 1.0

        shadow {
            enabled = true
            range = 4
            render_power = 3
            color = rgba(1a1a1aee)
        }

        blur {
            enabled = true
            size = 3
            passes = 3

            vibrancy = 0.1696
        }
    }

    animations {
        enabled = yes, please :)

        bezier = easeOutQuint,0.23,1,0.32,1
        bezier = easeInOutCubic,0.65,0.05,0.36,1
        bezier = linear,0,0,1,1
        bezier = almostLinear,0.5,0.5,0.75,1.0
        bezier = quick,0.15,0,0.1,1
        bezier = overshot, 0.05, 0.9, 0.1, 1.1
        bezier = overshot2, 0.13, 0.99, 0.29, 1.1
        bezier = test, 0, 1, 1, 1

        animation = global, 1, 10, default
        animation = border, 1, 5.39, easeOutQuint
        animation = windows, 1, 4, default, slide 20%
        animation = windowsIn, 1, 4, easeOutQuint, popin 80%
        animation = windowsOut, 1, 4, easeOutQuint, slide top 20%
        animation = fadeIn, 1, 1.73, almostLinear
        animation = fadeOut, 1, 1.46, almostLinear
        animation = fade, 1, 3.03, quick
        animation = layers, 1, 3.81, easeOutQuint
        animation = layersIn, 1, 4, easeOutQuint, fade
        animation = layersOut, 1, 1.5, linear, fade
        animation = fadeLayersIn, 1, 1.79, almostLinear
        animation = fadeLayersOut, 1, 1.39, almostLinear
        animation = workspaces, 1, 3, default, slidefade 30%
        animation = workspacesIn, 1, 3, default, slidefade 30%
        animation = workspacesOut, 1, 3, default, slidefade 30%
    }

    dwindle {
        pseudotile = true
        preserve_split = true
    }

    master {
        new_status = master
    }

    misc {
        force_default_wallpaper = -1
        disable_hyprland_logo = true
    }

#   ╔═════════╗
#   ║  Input  ║
#   ╚═════════╝

    input {
        kb_layout = br
        follow_mouse = 2 # 1 to focus window on mouse hover, 2 to switch keyboard focus on click
        float_switch_override_focus = 0

        sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

        touchpad {
            natural_scroll = false
        }
    }

    device {
        name=pixart-atk-1k-dongle-paw
        
        sensitivity = -0.75
    }

#   ╔═════════════════╗
#   ║  Miscellaneous  ║
#   ╚═════════════════╝

    # misc:exit_window_retains_fullscreen = true
    debug:disable_logs = false
